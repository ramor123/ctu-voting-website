{% load static %}
<style>
  /* ===========================
      SIDEBAR FIXES + IMPROVED UI
     =========================== */

  /* Keep desktop sidebar always visible */
  @media (min-width: 769px) {
      body.sidebar-collapse,
      body.sidebar-open {
          overflow: visible !important;
      }
      .main-sidebar {
          transform: none !important;
          position: fixed !important;
          width: 230px !important;
          left: 0 !important;
          top: 0 !important;
      }
  }

  /* Sidebar appearance */
  .main-sidebar {
      background-color: #b8860b;
      height: 100vh;
  }

  /* MENU STYLE */
  .sidebar-menu li a {
      color: white !important;
      transition: background-color 0.3s ease, padding-left 0.3s ease;
  }

  .sidebar-menu li a:hover {
      background-color: rgba(255, 215, 0, 0.2);
      padding-left: 10px;
  }

  /* HEADERS */
  .sidebar-menu .header {
      background: rgba(0, 0, 0, 0.15);
      color: white !important;
      text-transform: uppercase;
      font-weight: bold;
      letter-spacing: 1px;
      padding: 10px 15px;
  }

  /* USER PANEL */
  .user-panel {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 10px 10px;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
  }

  .user-panel .image img {
      width: 45px;
      height: 45px;
      border-radius: 50%;
  }

  .user-panel .info {
      margin-left: 10px;
      color: white;
      line-height: 1.2;
  }

  .user-panel .info a {
      color: #dfffd3;
      font-size: 12px;
  }
</style>

<script>
  /* Force desktop sidebar to stay open */
  document.addEventListener("DOMContentLoaded", function() {
      if (window.innerWidth > 768) {
          document.body.classList.remove("sidebar-collapse");
          document.body.classList.remove("sidebar-open");
      }
  });
</script>

<aside class="main-sidebar">
  <section class="sidebar">

    <!-- USER PANEL -->
    <div class="user-panel">
      <div class="image">
        <img src="{% static 'images/userplaceholder.png' %}" alt="User Image">
      </div>
      <div class="info">
        <p>{{ request.user }}</p>
        <a><i class="fa fa-circle text-success"></i> Active Now</a>
      </div>
    </div>

    <!-- MENU -->
    <ul class="sidebar-menu" data-widget="tree">

      {% if request.user.user_type == '1' %}
        <li class="header">Reports</li>
        <li><a href="{% url 'adminDashboard' %}"><i class="fa fa-dashboard"></i> Dashboard</a></li>
        <li><a href="{% url 'viewVotes' %}"><i class="glyphicon glyphicon-lock"></i> Votes</a></li>

        <li class="header">Manage</li>
        <li><a href="{% url 'adminViewVoters' %}"><i class="fa fa-users"></i> Voters</a></li>
        <li><a href="{% url 'viewPositions' %}"><i class="fa fa-tasks"></i> Positions</a></li>
        <li><a href="{% url 'viewCandidates' %}"><i class="fa fa-black-tie"></i> Candidates</a></li>

        <li class="header">Settings</li>
        <li><a href="{% url 'ballot_position' %}"><i class="fa fa-file-text"></i> Ballot Position</a></li>
        <li><a href="#config" data-toggle="modal"><i class="fa fa-font"></i> Election Title</a></li>
      {% endif %}

      <li class="header">Exit</li>
      <li><a href="{% url 'account_logout' %}"><i class="fa fa-power-off"></i> Logout</a></li>

    </ul>
  </section>
</aside>
